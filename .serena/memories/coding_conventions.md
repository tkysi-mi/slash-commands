# slash-commands コードスタイルと規約

## 命名規約
- **ワークフローファイル**: `.windsurf/workflows/`配下に用途が即座に想起できる短いスラッグ（例: `build-and-test.md`）
- **コマンド名**: ファイル名から拡張子を除いた形式（例: `/build-and-test`）
- **テンプレートファイル**: `.windsurf/templates/`配下に用途別の明確な名前

## Markdown記述規約
- **YAML frontmatter**: 使用せず、Markdown本文のみで完結
- **セクション構成**: 目的 / 前提 / 手順 / 完了条件 / エスカレーション
- **ステップ記法**: 番号付きまたは箇条書きで明示
- **分岐表現**: 「IF ... THEN ...」
- **反復表現**: 「FOR EACH ...」
- **依存呼出**: 「Call /workflow-name」

## コンテンツガイドライン
- **文字数制限**: ワークフロー全体で12,000文字以内
- **簡潔さ**: 冗長な表現を避け、必要最小限の指示に
- **参照設計**: 長文資料は`@path/to/doc.md`形式で参照
- **粒度**: 他ワークフローから呼び出しやすい単位で分割

## セキュリティと権限
- **権限明示**: 実行するCLIやMCPツールを明記
- **安全策**: 危険な操作にはMemories/Rulesでの制限を記述
- **エスカレーション**: 不明な場合は自律判断せず依頼元へ確認
- **監査**: 実行ログと権限管理を徹底

## 品質保証
- **セルフレビュー**: 作成後にチェックリストで品質確認
- **テスト**: ワークフローの実行可能性を検証
- **フィードバック**: 利用者からの改善提案を記録・反映
- **ドキュメント更新**: 変更時はREADMEへの追記を検討

## チェックリスト項目
- [ ] コマンド名と目的が直感的に理解できる
- [ ] コンテキスト制限を満たし、冗長表現がない
- [ ] 必要なCLI/MCPツールと権限要件を宣言
- [ ] 依存ワークフローや参照ファイルを明示
- [ ] エスカレーション指示と完了報告フォーマットを含む
- [ ] READMEやRulesに掲載され、チームへ周知済み
- [ ] 最新のコード/セキュリティレビューを通過