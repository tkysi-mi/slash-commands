---
description: プロジェクトのシステム概要・機能要件・非機能要件・ユーザーストーリーを体系的にヒアリングし、テンプレートに基づいた詳細なドキュメントを作成するワークフロー
auto_execution_mode: 1
---

# /a-002-InitializeProject

## 目的

- プロジェクトの目的・背景・機能要件を詳細にヒアリングし、具体的で実装可能なドキュメントを作成する。
- テンプレート（`@.windsurf/templates/project/01-requirements/`）に従い、システム概要・実装済み機能・予定機能・非機能要件・ユーザーストーリーを網羅する。
- 抽象的・曖昧な表現を避け、ユーザーとの対話を通じて具体的な数値・期限・制約・優先度を明確化する。
- 後続の設計・実装フェーズで参照できる、チーム全体が理解できる要件定義書を整備する。

## 前提

- `.windsurf/templates/project/`配下のテンプレートが最新状態であること。
- `docs/project/01-requirements/` ディレクトリが存在すること（存在しない場合は先に `/a-001-SetupDocStructure` を実行）。
- プロジェクトリポジトリの`docs/`ディレクトリに書き込み権限があること。
- ユーザーがプロジェクトの概要と主要な機能について基本的な情報を提供できること。
- 必要に応じて、既存の仕様書・議事録・デザインモック・競合分析資料などを参照できること。

## 手順

### 1. ドキュメントディレクトリの確認

- `docs/project/01-requirements/` ディレクトリの存在を確認：
  ```bash
  ls -la docs/project/01-requirements/ 2>/dev/null || echo "ディレクトリが存在しません"
  ```

- ディレクトリが存在しない場合：
  - ユーザーに通知：「`docs/` ディレクトリ構造が見つかりません。先に `/a-001-SetupDocStructure` を実行してディレクトリ構造を作成する必要があります。今すぐ実行しますか？」
  - ユーザーが「はい」と回答した場合：`Call /a-001-SetupDocStructure`
  - 完了後、このワークフローを続行する。

### 2. テンプレート確認と準備

- 以下のテンプレートファイルを読み込み、構造と記入ガイドラインを理解する：
  - `@.windsurf/templates/project/01-requirements/01-system-overview.md`
  - `@.windsurf/templates/project/01-requirements/02-features-implemented.md`
  - `@.windsurf/templates/project/01-requirements/03-features-planned.md`
  - `@.windsurf/templates/project/01-requirements/04-non-functional-requirements.md`
  - `@.windsurf/templates/project/01-requirements/05-user-stories.md`

### 3. システム概要のヒアリング

**質問項目（01-system-overview.md）**：

以下の質問を**1つずつ順番に**行い、ユーザーから具体的な回答を得る。回答が抽象的・曖昧な場合は、**必ず追加質問で深掘りする**。

#### 背景
- 「このシステムで解決しようとしている**具体的な問題や課題**は何ですか？」
  - 追加質問例：「現在はどのように対処していますか？」「問題が発生する頻度や影響を受ける人数は？」
- 「その問題はなぜ重要ですか？放置した場合のリスクは？」
- 「問題の影響を受けるステークホルダー（ユーザー、組織、チームなど）は誰ですか？」
- 「具体的な数値やデータ（例：作業時間、コスト、離脱率など）があれば教えてください。」

#### 目的
- 「このシステムが提供する**具体的な価値や解決策**は何ですか？」
  - 追加質問例：「ユーザーは何ができるようになりますか？」「業務プロセスはどう変わりますか？」
- 「期待される成果や変化を、測定可能な形で表現できますか？（例：作業時間50%削減、離脱率20%改善）」
- 「どのように問題を解決するか、具体的なメカニズムや仕組みを教えてください。」

#### ターゲットユーザー
- 「このシステムの主要なユーザーは誰ですか？（役割、属性、人数など）」
- 「ユーザーの技術スキルレベルは？（初心者、中級者、上級者）」
- 「ユーザーの利用環境は？（デバイス、ブラウザ、ネットワーク環境など）」

#### スコープ（含まれるもの・含まれないもの）
- 「システムに含まれる主要な機能をリストアップしてください。」
- 「このバージョンでは**意図的に含めない**機能はありますか？」
- 「将来的に追加する可能性がある機能はありますか？」

### 4. 実装済み機能のヒアリング（該当する場合）

**質問項目（02-features-implemented.md）**：

- 「既に実装済みの機能はありますか？ある場合、以下の情報を教えてください：」
  - 機能ID（例：FT-001）
  - 機能名（例：ユーザー登録）
  - 機能概要（1-2文）
  - 実装状態（完成、一部動作、バグ修正待ちなど）
  - 実装日またはリリース日
  - 関連ファイルパス（例：src/features/auth/RegisterForm.tsx）
  - 既知の問題や技術的負債があれば記載

- 各機能について、以下を確認：
  - 「この機能のユーザー受け入れ状況は？（フィードバック、改善要望など）」
  - 「パフォーマンスやセキュリティ上の懸念はありますか？」

### 5. 予定機能のヒアリング

**質問項目（03-features-planned.md）**：

- 「今後実装予定の機能をリストアップしてください。各機能について以下を明確にします：」
  - 機能ID（例：FT-101）
  - 機能名
  - 機能概要（何ができるようになるか）
  - **優先度**（必須、推奨、検討中） - **必ず確認**
  - **実装予定時期**（例：2025年Q1、MVP、フェーズ2） - **必ず確認**
  - **前提条件**（先に実装すべき機能、必要なインフラなど）
  - **想定工数**（わかる範囲で：人日、週、月など）

- 各機能について追加質問：
  - 「この機能がないと、システムは成立しませんか？（MVPに含めるべきか）」
  - 「競合他社や類似サービスではどのように実装されていますか？」
  - 「技術的な実装難易度や懸念はありますか？」

### 6. 非機能要件のヒアリング

**質問項目（04-non-functional-requirements.md）**：

以下の観点で**具体的な数値や基準**を確認する。「できる限り高く」などの曖昧な回答は避け、**必ず定量的な目標を設定**する。

#### パフォーマンス
- 「ページ読み込み時間の目標は？（例：初回3秒以内、2回目以降1秒以内）」
- 「APIレスポンス時間の目標は？（例：95パーセンタイルで200ms以内）」
- 「想定される同時接続ユーザー数は？（例：100人、1,000人、10,000人）」
- 「データベースのレコード数は最大どれくらいを想定？」

#### セキュリティ
- 「ユーザー認証方式は？（パスワード、OAuth、二要素認証など）」
- 「機密データの扱いは？（個人情報、決済情報、健康情報など）」
- 「コンプライアンス要件は？（GDPR、HIPAA、PCI DSS など）」
- 「セキュリティ監査やペネトレーションテストの予定は？」

#### 可用性・信頼性
- 「システムの稼働率目標は？（例：99.9% SLA）」
- 「許容されるダウンタイムは？（例：月間43分以内）」
- 「バックアップ・災害復旧の要件は？（RPO、RTOなど）」

#### スケーラビリティ
- 「ユーザー数の成長予測は？（例：初年度1,000人、3年後10,000人）」
- 「トラフィックのピーク時を想定していますか？（例：キャンペーン時に通常の10倍）」
- 「水平スケール・垂直スケールの方針は？」

#### ユーザビリティ・アクセシビリティ
- 「アクセシビリティ準拠レベルは？（WCAG 2.1 Level A/AA/AAA）」
- 「対応言語は？（日本語のみ、多言語対応）」
- 「対応デバイスは？（PC、スマホ、タブレット）」
- 「対応ブラウザは？（最新版のみ、IE11サポートなど）」

#### 保守性・運用性
- 「ログ・監視の要件は？（エラー追跡、パフォーマンス監視など）」
- 「デプロイ頻度の目標は？（週1回、毎日、継続的デプロイ）」
- 「ロールバック要件は？（即座、5分以内など）」

### 7. ユーザーストーリーの作成

**質問項目（05-user-stories.md）**：

- 「主要なユーザージャーニーを教えてください。以下の形式で整理します：」
  - **[役割]として、[目的]がしたい、なぜなら[理由]**
  - 例：「新規ユーザーとして、アカウントを作成したい、なぜならサービスを利用するため」

- 各ストーリーについて以下を確認：
  - ストーリーID（US-001, US-002...）
  - 優先度（高、中、低）
  - 受け入れ基準（この機能が完成したとみなす条件）
  - 前提条件（事前に必要な機能や状態）
  - UIモックやワイヤーフレームのリンク（あれば）

### 8. ドキュメント作成

- 収集した情報を基に、各テンプレートに従ってドキュメントを作成する。
- **HTMLコメント（`<!-- ... -->`）は削除せず残す**。これにより、今後の更新時にガイドラインを参照できる。
- 各セクションで具体例を参考にしつつ、プロジェクト固有の内容を記載する。
- **空欄や「TODO」を極力残さない**。不明な項目は「調査中」「未定」と明記し、確認が必要な理由を記載する。

### 9. レビューと確認

- 作成したドキュメントをユーザーに提示し、以下を確認する：
  - 「記載内容に誤りや漏れはありませんか？」
  - 「抽象的すぎる記述や、後で解釈が分かれそうな表現はありますか？」
  - 「追加で記載すべき情報はありますか？」
- フィードバックを反映し、ドキュメントを更新する。

### 10. 完成とコミット準備

- 完成したドキュメントを`docs/project/01-requirements/`配下に保存する。
- ファイル一覧を確認し、以下がすべて揃っているか検証する：
  - `01-system-overview.md`
  - `02-features-implemented.md`（該当する場合）
  - `03-features-planned.md`
  - `04-non-functional-requirements.md`
  - `05-user-stories.md`
- ユーザーに最終確認を依頼し、Git コミット・PR作成の準備が整ったことを通知する。

## 完了条件

- `docs/project/01-requirements/`配下に以下のドキュメントが作成されている：
  - `01-system-overview.md`（背景、目的、ターゲットユーザー、スコープが具体的に記載）
  - `02-features-implemented.md`（該当する場合、各機能の状態と既知の問題を含む）
  - `03-features-planned.md`（優先度、実装時期、前提条件が明確）
  - `04-non-functional-requirements.md`（定量的な目標値と基準が設定）
  - `05-user-stories.md`（受け入れ基準と優先度が明確）
- すべてのドキュメントで**抽象的な表現が最小化**され、具体的な数値・期限・制約が記載されている。
- ユーザーがドキュメント内容を確認し、承認またはフィードバックを提供している。
- ドキュメントがGitにコミット可能な状態になっている。

## エスカレーション

- ユーザーが重要な情報を提供できない場合（例：非機能要件の数値目標、技術的制約など）：
  - 「この情報は後続の設計・実装で必須です。確認できる担当者や資料はありますか？」と確認し、TODO として記録する。
- 機密情報や法務・コンプライアンス関連の不明点が発生した場合：
  - 「この内容は専門チームの確認が必要です。誰に確認すべきか教えてください。」と依頼し、進行を一時停止する。
- 競合する要件や矛盾が発見された場合：
  - 「以下の要件が競合しています：[詳細]。優先順位や調整方針を確認させてください。」とユーザーに報告し、意思決定を依頼する。
- 想定工数が非現実的に大きい、またはスケジュールが厳しすぎる場合：
  - 「現在の計画では実現が困難です。スコープ縮小や優先度調整を検討しませんか？」と提案し、ステークホルダーとの調整を促す。
