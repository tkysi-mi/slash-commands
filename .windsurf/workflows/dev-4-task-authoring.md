# /dev-4-task-authoring

## 目的

- 設計成果物から実装ストーリー/タスクを生成し、実装チームが迷わず着手できるようにする。
- StoryファイルとPRテンプレートに必要なフィールドを埋め、後続ワークフローへの入力を整備する。

## 前提

- `/dev-1-plan-intake`および`/dev-3-system-design`が完了し、PRD・アーキテクチャ・リスクログが最新である。
- Windsurfの`code_search`/`read_file`で設計資料や既存Storyを参照できる。
- 使用するトラッキングツール（Jira、Linearなど）でストーリーを更新できる権限がある。

## 手順

1. Storyテンプレートの準備

   - 既存のStory/Issueテンプレートを確認し、ない場合は新規作成する。
   - 必須フィールド（目的、依存関係、テスト観点、エラーハンドリング、使用ツール）を確認。

2. タスク分解

   - PRD・設計資料をもとに、実装サブタスクを洗い出す。
   - それぞれのサブタスクについて、入力/出力、テスト条件、完了の定義を明記する。

3. Story/Issueの作成

   - 各Storyに以下を記録する。
     - ゴールと成功指標
     - 関連ドキュメントへのリンク（`@docs/...`など）
     - 想定されるハッピーパス/エッジケース
     - 依存タスクと担当者
   - 仕様が未確定な項目は`update_plan`でTODO化し、ステークホルダーに確認を依頼する。

4. バトンパスと通知

   - 完成したStoryをScrum Masterや実装担当へ共有し、キックオフミーティングやペアリングの必要性を確認する。
   - 追加ワークフロー（例: `/dev-build-execution`, `/dev-7-swarm-qa`）を呼び出す条件をStory内に明記する。

## 完了条件

- Story/Issueが全て作成または更新され、必要なフィールドが埋まっている。
- 実装担当者が参照すべきドキュメント・ツール・フォローアップ手順が明文化されている。

## エスカレーション

- タスク分解ができない、または依存関係が複雑な場合はArchitect/PgMへ相談し再計画を依頼する。
- Storyの優先度や担当者が決まらない場合はプロダクトオーナーやチームリードに決裁を求める。
