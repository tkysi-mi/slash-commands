---
description: あいまいな要求や仕様を整理し、補足質問と前提確認を体系化して共有するためのクラリフィケーションワークフロー
auto_execution_mode: 1
---

# /speckit.clarify

## 目的

- 初期要求や仕様ドラフトの不明点・矛盾・前提不足を迅速に洗い出し、確かな理解を得る。
- 機能・非機能・制約・リスクを観点別に整理し、意思決定者へ明確な質問セットを提示する。
- 想定されるユースケースと除外範囲を明文化し、後続の設計・実装フェーズをスムーズに開始する。

## 前提

- 対象プロジェクトのリポジトリ／仕様資料へアクセスでき、関連ドキュメントを参照できること。
- README、開発ガイドライン、既存ワークフローが最新状態であることを確認する。
- 要求元が回答可能なコンタクト手段（Issue, PR, チャット等）が明確で、質問の優先度や回答期限を設定できること。
- 高機密情報を扱う場合は、組織の情報セキュリティポリシーに従い共有範囲を制限する。

## 手順

1. **コンテキスト収集**
   - 依頼メッセージ、既存の仕様書、議事録、関連する Issue/PR を読み込み、現時点で提示されている情報源をリスト化する。
   - `run_command` や MCP（Context7, DeepWiki など）を利用し、関連ドキュメントやコード断片を検索する。

2. **要求の要約とゴール仮説の作成**
   - 要求の目的・背景・成功指標を 3〜5 行で短く要約し、現時点の理解（What / Why / For whom）を明文化する。
   - 既知の制約（スケジュール、技術スタック、依存サービスなど）と前提をリスト化する。

3. **ギャップと不確定要素の抽出**
   - 機能要件、非機能要件、データ要件、UX 要件、運用要件など観点別に、不足情報・矛盾・曖昧表現を列挙する。
   - 過去事例や類似プロジェクトの知見から想定されるリスクや特殊ケースを付記する。

4. **検証と補足調査**
   - 重要度が高い項目についてはコードベースやドキュメントを確認し、既存実装との整合性や影響を下調べする。
   - ブラウザやAPIの現状挙動を再確認する必要があれば Playwright MCP や Chrome DevTools MCP で挙動を収集する。

5. **質問リストと仮定の整理**
   - 優先度（High/Medium/Low）を付けて質問をグルーピングし、回答が必要な理由や想定される選択肢を明記する。
   - 回答を待つ間に採用した暫定的な仮定や推奨案を併記し、回答後のアクションもセットで提示する。

6. **サマリーと次のアクション提示**
   - 要約、主要な不確定点、質問リスト、暫定方針、推奨タイムラインを 1 ページ以内にまとめる。
   - コミュニケーション手段（Issue コメント、PR、専用チャンネル等）に合わせた形式で共有し、回答期限とフォローアップ方法を明確化する。

7. **フォローアップとドキュメント化**
   - 回答が得られた項目を更新し、仕様ドキュメントやワークフローの関連セクションへ反映する。
   - 未回答項目・保留事項を TODO として登録し、スプリント計画や backlog に連携する。

## 完了条件

- 仕様理解のサマリーと明確な質問リストが作成・共有され、回答期限や次ステップが合意されている。
- 回答済み項目に基づき仕様ドキュメントが更新され、仮定や暫定決定が明文化されている。
- 未解決事項が TODO として管理され、責任者とフォローアップ方法が設定されている。

## エスカレーション

- 重要な不明点が解消できずスケジュールや品質に重大な影響が出る場合は、プロダクトオーナーやステークホルダーへ早期に報告する。
- セキュリティ・法務・プライバシーに関わる疑問が発生した場合は、専門チームへ確認し自己判断で進めない。
- コミュニケーションが滞った場合は、チームリードやマネージャーへ状況を共有し、回答者の調整を依頼する。